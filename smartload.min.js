/*! Smartload v1.1.0 - https://github.com/Chisnet/smartload */
!function(a,b){"use strict";a._slm={listeners:[],key_counter:0,init:function(){b(a).bind("resize",function(){a._slm.triggerListeners()}).bind("scroll",function(){a._slm.triggerListeners()}).bind("orientationchange",function(){a._slm.triggerListeners()})},triggerListeners:function(){var b;if(a._slm.listeners.length)for(var c=0;c<a._slm.listeners.length;c++)b=a._slm.listeners[c],b.func.call()},bind:function(b,c){a._slm.listeners.push({key:b,func:c})},unbind:function(b){for(var c,d=0;d<a._slm.listeners.length;d++)c=a._slm.listeners[d],c.key===b&&a._slm.listeners.splice(d,1)},get_key:function(){return a._slm.key_counter+=1,a._slm.key_counter}},a._slm.init(),b.fn.smartLoad=function(c,d,e){function j(){var c=b(a),e=c.scrollTop()-i.threshold,h=c.scrollTop()+c.height()+i.threshold;g.each(function(){var c=b(this);c.offset().top+c.height()>=e&&c.offset().top<=h&&c.is(":visible")?this.loaded||(c.trigger("smartload"),i.repeatable||d||(g=g.not(c),g.length||a._slm.unbind(f))):c.is(":visible")&&this.loaded&&(i.repeatable||(g=g.not(c),g.length||a._slm.unbind(f)),c.trigger("smartunload"))})}function k(){i.throttle?void 0===h&&(h=a.setTimeout(function(){j(),h=void 0},i.throttle)):j()}var h,i,f=a._slm.get_key(),g=this;return"object"==typeof d&&(e=d,d=void 0),i=b.extend({},b.fn.smartLoad.defaults,e),g.length>0&&(void 0===i.load_delay&&(i.load_delay=i.delay),void 0===i.load_threshold&&(i.load_threshold=i.threshold),void 0===i.unload_delay&&(i.unload_delay=i.delay),void 0===i.unload_threshold&&(i.load_threshold=i.threshold),g.each(function(){var g,h,e=this,f=b(e);e.loaded=!1,g=function(){e.loaded||(i.delay?a.setTimeout(function(){c.call(e)},i.delay):c.call(e),i.repeatable||b(e).unbind("smartload"),e.loaded=!0)},f.bind("smartload",g),d&&(h=function(){e.loaded&&(i.delay?a.setTimeout(function(){d.call(e)},i.delay):d.call(e),i.repeatable||b(e).unbind("smartunload"),e.loaded=!1)},f.bind("smartunload",h))}),a._slm.bind(f,function(){k()}),b(function(){k()})),this},b.fn.smartLoad.defaults={delay:0,threshold:0,throttle:100,repeatable:!1}}(window,jQuery);