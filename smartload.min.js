/*! Smartload v1.3.0 - https://github.com/Chisnet/smartload */
!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e:e(jQuery)}(function(e){"use strict";window._slm={listeners:[],key_counter:0,init:function(){var e=!1;try{var n=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,n)}catch(e){}["resize","scroll","orientationchange"].forEach(function(n){window.addEventListener(n,function(e){window._slm.triggerListeners(e.type)},!!e&&{passive:!0})})},triggerListeners:function(){if(window._slm.listeners.length)for(var e=0;e<window._slm.listeners.length;e++)window._slm.listeners[e].func.call(null)},bind:function(e,n){window._slm.listeners.push({key:e,func:n})},unbind:function(e){for(var n=0;n<window._slm.listeners.length;n++)window._slm.listeners[n].key===e&&window._slm.listeners.splice(n,1)},get_key:function(){return window._slm.key_counter+=1,window._slm.key_counter}},window._slm.init(),e.fn.smartLoad=function(n,t,o){function i(){window.requestAnimationFrame(function(){var n=e(window),o=n.scrollTop()-s.threshold,i=n.scrollTop()+n.height()+s.threshold;a.each(function(){var n=e(this);n.offset().top+n.height()>=o&&n.offset().top<=i&&n.is(":visible")?this.loaded&&!s.responsive||(n.trigger("smartload"),s.repeatable||t||(a=a.not(n)).length||window._slm.unbind(r)):n.is(":visible")&&this.loaded&&(s.repeatable||(a=a.not(n)).length||window._slm.unbind(r),n.trigger("smartunload"))})})}function l(){s.throttle?void 0===d&&(d=window.setTimeout(function(){i(),d=void 0},s.throttle)):i()}var d,s,r=window._slm.get_key(),a=this;return"object"==typeof t&&(o=t,t=void 0),(s=e.extend({},e.fn.smartLoad.defaults,o)).responsive&&(s.repeatable=!0),a.length>0&&(void 0===s.load_delay&&(s.load_delay=s.delay),void 0===s.load_threshold&&(s.load_threshold=s.threshold),void 0===s.unload_delay&&(s.unload_delay=s.delay),void 0===s.unload_threshold&&(s.load_threshold=s.threshold),a.each(function(){var o,i,l=this,d=e(l);l.loaded=!1,o=function(t){t.target==t.currentTarget&&(l.loaded&&!s.responsive||(s.delay?window.setTimeout(function(){n.call(l)},s.delay):n.call(l),s.repeatable||e(l).unbind("smartload"),l.loaded=!0))},d.bind("smartload",o),t&&(i=function(n){n.target==n.currentTarget&&l.loaded&&(s.delay?window.setTimeout(function(){t.call(l)},s.delay):t.call(l),s.repeatable||e(l).unbind("smartunload"),l.loaded=!1)},d.bind("smartunload",i))}),window._slm.bind(r,function(){l()}),e(function(){l()})),this},e.fn.smartLoad.defaults={delay:0,threshold:0,throttle:100,repeatable:!1,responsive:!1}});