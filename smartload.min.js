!function(a){window._slm={listeners:[],key_counter:0,init:function(){a(window).bind("resize",function(){_slm.triggerListeners()}).bind("scroll",function(){_slm.triggerListeners()}).bind("orientationchange",function(){_slm.triggerListeners()})},triggerListeners:function(){if(_slm.listeners.length)for(var a in _slm.listeners)listener=_slm.listeners[a],listener.func.call()},bind:function(a,b){_slm.listeners.push({key:a,func:b})},unbind:function(a){for(var b in _slm.listeners)listener=_slm.listeners[b],listener.key==a&&_slm.listeners.splice(b,1)},get_key:function(){return _slm.key_counter+=1,_slm.key_counter}},_slm.init(),a.fn.smartLoad=function(b,c){function h(){f.throttle?"undefined"==typeof g&&(g=setTimeout(function(){i(),g=void 0},f.throttle)):i()}function i(){var b=a(window),c=b.scrollTop()-f.threshold,g=b.scrollTop()+b.height()+f.threshold;d.each(function(){var b=a(this);b.offset().top+b.height()>=c&&b.offset().top<=g&&b.is(":visible")&&(b.trigger("smartload"),d=d.not(b),d.length||_slm.unbind(e))})}var d=this;if(d.length>0){var g,e=_slm.get_key(),f=a.extend({},a.fn.smartLoad.defaults,c);d.each(function(){var c=this,d=a(c);c.loaded=!1,d.one("smartload",function(){this.loaded||(f.delay?setTimeout(function(){b.call(c)},f.delay):b.call(c),c.loaded=!0)})}),_slm.bind(e,function(){h()}),a(function(){h()})}return this},a.fn.smartLoad.defaults={delay:0,threshold:0,throttle:100}}(jQuery);