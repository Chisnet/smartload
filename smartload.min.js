!function(t){window._slm={listeners:[],key_counter:0,init:function(){t(window).bind("resize",function(){_slm.triggerListeners()}).bind("scroll",function(){_slm.triggerListeners()}).bind("orientationchange",function(){_slm.triggerListeners()})},triggerListeners:function(){if(_slm.listeners.length)for(var t in _slm.listeners)listener=_slm.listeners[t],listener.func.call()},bind:function(t,e){_slm.listeners.push({key:t,func:e})},unbind:function(t){for(var e in _slm.listeners)listener=_slm.listeners[e],listener.key==t&&_slm.listeners.splice(e,1)},get_key:function(){return _slm.key_counter+=1,_slm.key_counter}},_slm.init(),t.fn.smartLoad=function(e,n){function i(){f.throttle?"undefined"==typeof l&&(l=setTimeout(function(){s(),l=void 0},f.throttle)):s()}function s(){var e=t(window),n=e.scrollTop()-f.threshold,i=e.scrollTop()+e.height()+f.threshold;o.each(function(){var e=t(this);e.offset().top+e.height()>=n&&e.offset().top<=i&&e.is(":visible")&&(e.trigger("smartload"),o=o.not(e),o.length||_slm.unbind(r))})}var l,o=this,r=_slm.get_key(),f=t.extend({},t.fn.smartLoad.defaults,n);return this.each(function(){var n=this,i=t(n);n.loaded=!1,i.one("smartload",function(){this.loaded||(f.delay?setTimeout(function(){e.call(n)},f.delay):e.call(n),n.loaded=!0)})}),_slm.bind(r,function(){i()}),t(function(){i()}),this},t.fn.smartLoad.defaults={delay:0,threshold:0,throttle:100}}(jQuery);