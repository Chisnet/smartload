/*! Smartload v1.2.1 - https://github.com/Chisnet/smartload */
!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof exports?module.exports=a:a(jQuery)}(function(a){"use strict";window._slm={listeners:[],key_counter:0,init:function(){a(window).bind("resize",function(){window._slm.triggerListeners("resize")}).bind("scroll",function(){window._slm.triggerListeners("scroll")}).bind("orientationchange",function(){window._slm.triggerListeners("orientationchange")})},triggerListeners:function(a){var b;if(window._slm.listeners.length)for(var c=0;c<window._slm.listeners.length;c++)b=window._slm.listeners[c],b.func.call(null,a)},bind:function(a,b){window._slm.listeners.push({key:a,func:b})},unbind:function(a){for(var b,c=0;c<window._slm.listeners.length;c++)b=window._slm.listeners[c],b.key===a&&window._slm.listeners.splice(c,1)},get_key:function(){return window._slm.key_counter+=1,window._slm.key_counter}},window._slm.init(),a.fn.smartLoad=function(b,c,d){function i(){var d=a(window),g=d.scrollTop()-h.threshold,i=d.scrollTop()+d.height()+h.threshold;f.each(function(){var b=a(this);b.offset().top+b.height()>=g&&b.offset().top<=i&&b.is(":visible")?(!this.loaded||h.responsive)&&(b.trigger("smartload"),h.repeatable||c||(f=f.not(b),f.length||window._slm.unbind(e))):b.is(":visible")&&this.loaded&&(h.repeatable||(f=f.not(b),f.length||window._slm.unbind(e)),b.trigger("smartunload"))})}function j(a){h.throttle?void 0===g&&(g=window.setTimeout(function(){i(a),g=void 0},h.throttle)):i(a)}var g,h,e=window._slm.get_key(),f=this;return"object"==typeof c&&(d=c,c=void 0),h=a.extend({},a.fn.smartLoad.defaults,d),h.responsive&&(h.repeatable=!0),f.length>0&&(void 0===h.load_delay&&(h.load_delay=h.delay),void 0===h.load_threshold&&(h.load_threshold=h.threshold),void 0===h.unload_delay&&(h.unload_delay=h.delay),void 0===h.unload_threshold&&(h.load_threshold=h.threshold),f.each(function(){var f,g,d=this,e=a(d);d.loaded=!1,f=function(c){c.target==c.currentTarget&&(!d.loaded||h.responsive)&&(h.delay?window.setTimeout(function(){b.call(d)},h.delay):b.call(d),h.repeatable||a(d).unbind("smartload"),d.loaded=!0)},e.bind("smartload",f),c&&(g=function(b){b.target==b.currentTarget&&d.loaded&&(h.delay?window.setTimeout(function(){c.call(d)},h.delay):c.call(d),h.repeatable||a(d).unbind("smartunload"),d.loaded=!1)},e.bind("smartunload",g))}),window._slm.bind(e,function(a){j(a)}),a(function(){j()})),this},a.fn.smartLoad.defaults={delay:0,threshold:0,throttle:100,repeatable:!1,responsive:!1}});